var commit=commit||{};(function($){'use strict';commit.contactinfo={selectors:{form:'#contactinfo',dobPopover:'#dobPopover',dobPopoverContent:'#dobPopoverContent',email:'#email',primaryEmail:'#primaryEmail',emailPopover:'#emailPopover',emailPopoverContent:'#emailPopoverContent',city:'#city'},utils:{},validator:{},validate:function(){var selectors=this.selectors;this.validator=new commit.validator({selectors:selectors,rules:{dob:{required:true,date:true},email:{required:true,email:true},city:{required:true,city:true}},messages:{dob:{required:'Please enter your date of birth.',date:'Please enter a valid date of birth'},email:{required:'Please enter your email.'},city:{required:'Please enter your city.'}},formPopover:true,focus:true,verify:true})},initializeViewPopovers:function(){var emailPopover,emailPopoverContent,dobPopover,dobPopoverContent;emailPopover=$(this.selectors.emailPopover);emailPopoverContent=$(this.selectors.emailPopoverContent).html();dobPopover=$(this.selectors.dobPopover);dobPopoverContent=$(this.selectors.dobPopoverContent).html();this.utils.popover(emailPopover,emailPopoverContent);this.utils.popover(dobPopover,dobPopoverContent)},attachModalListeners:function(){var email,primaryEmail,dialog;email=$(this.selectors.email);primaryEmail=$(this.selectors.primaryEmail);dialog=this.validator.dialog;dialog.on('show',_.bind(function(e){primaryEmail.html($.trim(email.val()))},this));dialog.on('hidden',_.bind(function(e){primaryEmail.html('')},this))},initialize:function(){_.bindAll(this);this.utils=commit.utils;this.initializeViewPopovers();this.validate()}};commit.contactinfo.initialize()}(jQuery,_));