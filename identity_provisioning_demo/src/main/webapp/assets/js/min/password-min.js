var commit=commit||{};(function($){"use strict";commit.password={selectors:{form:"#setpassword",password:"#password",passwordPopover:"#passwordPopover",passwordPopoverContent:"#passwordPopoverContent",progress:"#progress",progressBar:"#progressBar",progressHidden:"#progressHidden"},utils:{},validator:{},validate:function(){var selectors=this.selectors;this.validator=new commit.validator({selectors:selectors,rules:{password:{required:!0,commitPassword:!0},passwordConfirmed:{required:!0,equalTo:selectors.password}},messages:{password:{required:"Please enter a password."},passwordConfirmed:{required:"Please enter a password"}},formPopover:!0,focus:!0})},initializeViewPopovers:function(){var passwordPopover,passwordPopoverContent;passwordPopover=$(this.selectors.passwordPopover),passwordPopoverContent=$(this.selectors.passwordPopoverContent).html(),this.utils.popover(passwordPopover,passwordPopoverContent)},onPasswordStrength:function(password){var progress,progressBar,progressHidden,score,scoreMap,scoreCard;progress=$(this.selectors.progress),progressBar=$(this.selectors.progressBar),progressHidden=$(this.selectors.progressHidden),score=0,scoreMap={0:{strength:"weak",progress:"progress progress-danger cm-width-150",percent:"0%"},1:{strength:"weak",progress:"progress progress-danger cm-width-150",percent:"10%"},2:{strength:"moderate",progress:"progress progress-warning cm-width-150",percent:"30%"},3:{strength:"moderate",progress:"progress progress-warning cm-width-150",percent:"50%"},4:{strength:"strong",progress:"progress progress-success cm-width-150",percent:"70%"},5:{strength:"strong",progress:"progress progress-success cm-width-150",percent:"100%"}},password.length>7&&score++,password.match(/[a-z]/)&&password.match(/[A-Z]/)&&score++,password.match(/\d+/)&&score++,password.match(/.[!,@,#,$,%,\^,*,?,_,~,\-]/)&&score++,password.length>12&&score++,scoreCard=scoreMap[score],progress.removeAttr("class").addClass(scoreCard.progress),progressBar.width(scoreCard.percent),progressHidden.val(scoreCard.percent)},initialize:function(){_.bindAll(this),this.utils=commit.utils,this.initializeViewPopovers(),this.validate()}},commit.password.initialize()})(jQuery);